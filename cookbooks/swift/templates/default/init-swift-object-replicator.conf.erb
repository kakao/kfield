# swift-object-replicator - SWIFT Object Replicator
#
# The swift object replicator.

description     "SWIFT Object Replicator"
author          "Marc Cluet <marc.cluet@ubuntu.com>"

start on runlevel [2345]
stop on runlevel [016]

pre-start script
  if [ -f "/etc/swift/object-server.conf" ]; then
    exec <%= node[:openstack][:install][:source][:path] %>/bin/swift-init object-replicator start
  else
    exit 1
  fi
end script

post-stop exec <%= node[:openstack][:install][:source][:path] %>/bin/swift-init object-replicator stop

